"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.listen = exports.register = void 0;
const Common_1 = require("../Common");
const ECS_1 = require("../Framework/ECS");
/**
 * 注册组件给对应的系统
 */
function register(componentCtor) {
    return function (constructor) {
        if (Array.isArray(componentCtor)) {
            componentCtor.forEach((v) => {
                Common_1.RelationMapping.getInstance().registerComponent(constructor, v);
            });
        }
        else {
            Common_1.RelationMapping.getInstance().registerComponent(constructor, componentCtor);
        }
    };
}
exports.register = register;
/**
 * 监听事件
 * @param ctor 需要监听的事件的构造器
 */
function listen(ctor) {
    return function (target, propertyKey, descriptor) {
        (0, Common_1.assert)(target.constructor.prototype instanceof ECS_1.System, `${target} fail to listen to Action or Event. Make sure the function exists in the System`);
        Common_1.ActionMapping.getInstance().registerListener(target.constructor, propertyKey, ctor);
    };
}
exports.listen = listen;
//# sourceMappingURL=Decorator.js.map